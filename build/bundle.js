var app=function(){"use strict";function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function o(t){return t()}function r(){return Object.create(null)}function s(t){t.forEach(o)}function c(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}const i="undefined"!=typeof window;let u=i?()=>window.performance.now():()=>Date.now(),f=i?t=>requestAnimationFrame(t):t;const a=new Set;function d(t){a.forEach((e=>{e.c(t)||(a.delete(e),e.f())})),0!==a.size&&f(d)}function h(t){let e;return 0===a.size&&f(d),{promise:new Promise((n=>{a.add(e={c:t,f:n})})),abort(){a.delete(e)}}}function p(t,e){t.appendChild(e)}function g(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e.host?e:document}function m(t){const e=b("style");return function(t,e){p(t.head||t,e)}(g(t),e),e}function $(t,e,n){t.insertBefore(e,n||null)}function y(t){t.parentNode.removeChild(t)}function v(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function b(t){return document.createElement(t)}function _(t){return document.createTextNode(t)}function k(){return _(" ")}function w(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function x(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}const E=new Set;let M,O=0;function C(t,e,n,o,r,s,c,l=0){const i=16.666/o;let u="{\n";for(let t=0;t<=1;t+=i){const o=e+(n-e)*s(t);u+=100*t+`%{${c(o,1-o)}}\n`}const f=u+`100% {${c(n,1-n)}}\n}`,a=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(f)}_${l}`,d=g(t);E.add(d);const h=d.__svelte_stylesheet||(d.__svelte_stylesheet=m(t).sheet),p=d.__svelte_rules||(d.__svelte_rules={});p[a]||(p[a]=!0,h.insertRule(`@keyframes ${a} ${f}`,h.cssRules.length));const $=t.style.animation||"";return t.style.animation=`${$?`${$}, `:""}${a} ${o}ms linear ${r}ms 1 both`,O+=1,a}function S(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),r=n.length-o.length;r&&(t.style.animation=o.join(", "),O-=r,O||f((()=>{O||(E.forEach((t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}})),E.clear())})))}function j(t){M=t}const z=[],R=[],A=[],P=[],q=Promise.resolve();let B=!1;function N(){B||(B=!0,q.then(F))}function T(t){A.push(t)}let L=!1;const D=new Set;function F(){if(!L){L=!0;do{for(let t=0;t<z.length;t+=1){const e=z[t];j(e),H(e.$$)}for(j(null),z.length=0;R.length;)R.pop()();for(let t=0;t<A.length;t+=1){const e=A[t];D.has(e)||(D.add(e),e())}A.length=0}while(z.length);for(;P.length;)P.pop()();B=!1,L=!1,D.clear()}}function H(t){if(null!==t.fragment){t.update(),s(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(T)}}let I;function G(){return I||(I=Promise.resolve(),I.then((()=>{I=null}))),I}function J(t,e,n){t.dispatchEvent(function(t,e,n=!1){const o=document.createEvent("CustomEvent");return o.initCustomEvent(t,n,!1,e),o}(`${e?"intro":"outro"}${n}`))}const K=new Set;let Q;function U(){Q={r:0,c:[],p:Q}}function V(){Q.r||s(Q.c),Q=Q.p}function W(t,e){t&&t.i&&(K.delete(t),t.i(e))}function X(t,e,n,o){if(t&&t.o){if(K.has(t))return;K.add(t),Q.c.push((()=>{K.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}const Y={duration:0};function Z(t,e){X(t,1,1,(()=>{e.delete(t.key)}))}function tt(t){t&&t.c()}function et(t,e,n,r){const{fragment:l,on_mount:i,on_destroy:u,after_update:f}=t.$$;l&&l.m(e,n),r||T((()=>{const e=i.map(o).filter(c);u?u.push(...e):s(e),t.$$.on_mount=[]})),f.forEach(T)}function nt(t,e){const n=t.$$;null!==n.fragment&&(s(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function ot(e,n,o,c,l,i,u,f=[-1]){const a=M;j(e);const d=e.$$={fragment:null,ctx:null,props:i,update:t,not_equal:l,bound:r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(a?a.$$.context:n.context||[]),callbacks:r(),dirty:f,skip_bound:!1,root:n.target||a.$$.root};u&&u(d.root);let h=!1;if(d.ctx=o?o(e,n.props||{},((t,n,...o)=>{const r=o.length?o[0]:n;return d.ctx&&l(d.ctx[t],d.ctx[t]=r)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](r),h&&function(t,e){-1===t.$$.dirty[0]&&(z.push(t),N(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(e,t)),n})):[],d.update(),h=!0,s(d.before_update),d.fragment=!!c&&c(d.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);d.fragment&&d.fragment.l(t),t.forEach(y)}else d.fragment&&d.fragment.c();n.intro&&W(e.$$.fragment),et(e,n.target,n.anchor,n.customElement),F()}j(a)}class rt{$destroy(){nt(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function st(t){const e=t-1;return e*e*e+1}function ct(t){return--t*t*t*t*t+1}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */function lt(t){var{fallback:e}=t,o=function(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(n[o[r]]=t[o[r]])}return n}(t,["fallback"]);const r=new Map,s=new Map;function l(t,r,s){return(l,i)=>(t.set(i.key,{rect:l.getBoundingClientRect()}),()=>{if(r.has(i.key)){const{rect:t}=r.get(i.key);return r.delete(i.key),function(t,e,r){const{delay:s=0,duration:l=(t=>30*Math.sqrt(t)),easing:i=st}=n(n({},o),r),u=e.getBoundingClientRect(),f=t.left-u.left,a=t.top-u.top,d=t.width/u.width,h=t.height/u.height,p=Math.sqrt(f*f+a*a),g=getComputedStyle(e),m="none"===g.transform?"":g.transform,$=+g.opacity;return{delay:s,duration:c(l)?l(p):l,easing:i,css:(t,e)=>`\n\t\t\t\topacity: ${t*$};\n\t\t\t\ttransform-origin: top left;\n\t\t\t\ttransform: ${m} translate(${e*f}px,${e*a}px) scale(${t+(1-t)*d}, ${t+(1-t)*h});\n\t\t\t`}}(t,l,i)}return t.delete(i.key),e&&e(l,i,s)})}return[l(s,r,!1),l(r,s,!0)]}function it(t,e,n){const o=t.slice();return o[6]=e[n],o}function ut(n,o){let r,l,i,f,a,d,g,m=o[1][o[6]]+"";return{key:n,first:null,c(){r=b("div"),l=_(m),i=k(),w(r,"class","tile svelte-659ef4"),w(r,"style",f=o[4](o[6])),this.first=r},m(t,e){$(t,r,e),p(r,l),p(r,i),g=!0},p(t,e){o=t,(!g||3&e)&&m!==(m=o[1][o[6]]+"")&&x(l,m),(!g||1&e&&f!==(f=o[4](o[6])))&&w(r,"style",f)},i(n){g||(T((()=>{d&&d.end(1),a=function(n,o,r){let s,l,i=o(n,r),f=!1,a=0;function d(){s&&S(n,s)}function p(){const{delay:o=0,duration:r=300,easing:c=e,tick:p=t,css:g}=i||Y;g&&(s=C(n,0,1,r,o,c,g,a++)),p(0,1);const m=u()+o,$=m+r;l&&l.abort(),f=!0,T((()=>J(n,!0,"start"))),l=h((t=>{if(f){if(t>=$)return p(1,0),J(n,!0,"end"),d(),f=!1;if(t>=m){const e=c((t-m)/r);p(e,1-e)}}return f}))}let g=!1;return{start(){g||(g=!0,S(n),c(i)?(i=i(),G().then(p)):p())},invalidate(){g=!1},end(){f&&(d(),f=!1)}}}(r,o[3],{key:o[6]}),a.start()})),g=!0)},o(n){a&&a.invalidate(),d=function(n,o,r){let l,i=o(n,r),f=!0;const a=Q;function d(){const{delay:o=0,duration:r=300,easing:c=e,tick:d=t,css:p}=i||Y;p&&(l=C(n,1,0,r,o,c,p));const g=u()+o,m=g+r;T((()=>J(n,!1,"start"))),h((t=>{if(f){if(t>=m)return d(0,1),J(n,!1,"end"),--a.r||s(a.c),!1;if(t>=g){const e=c((t-g)/r);d(1-e,e)}}return f}))}return a.r+=1,c(i)?G().then((()=>{i=i(),d()})):d(),{end(t){t&&i.tick&&i.tick(1,0),f&&(l&&S(n,l),f=!1)}}}(r,o[2],{key:o[6]}),g=!1},d(t){t&&y(r),t&&d&&d.end()}}}function ft(t){let e,n,o=[],r=new Map,s=t[0];const c=t=>t[6];for(let e=0;e<s.length;e+=1){let n=it(t,s,e),l=c(n);r.set(l,o[e]=ut(l,n))}return{c(){e=b("div");for(let t=0;t<o.length;t+=1)o[t].c();w(e,"class","box svelte-659ef4")},m(t,r){$(t,e,r);for(let t=0;t<o.length;t+=1)o[t].m(e,null);n=!0},p(t,[n]){19&n&&(s=t[0],U(),o=function(t,e,n,o,r,s,c,l,i,u,f,a){let d=t.length,h=s.length,p=d;const g={};for(;p--;)g[t[p].key]=p;const m=[],$=new Map,y=new Map;for(p=h;p--;){const t=a(r,s,p),l=n(t);let i=c.get(l);i?o&&i.p(t,e):(i=u(l,t),i.c()),$.set(l,m[p]=i),l in g&&y.set(l,Math.abs(p-g[l]))}const v=new Set,b=new Set;function _(t){W(t,1),t.m(l,f),c.set(t.key,t),f=t.first,h--}for(;d&&h;){const e=m[h-1],n=t[d-1],o=e.key,r=n.key;e===n?(f=e.first,d--,h--):$.has(r)?!c.has(o)||v.has(o)?_(e):b.has(r)?d--:y.get(o)>y.get(r)?(b.add(o),_(e)):(v.add(r),d--):(i(n,c),d--)}for(;d--;){const e=t[d];$.has(e.key)||i(e,c)}for(;h;)_(m[h-1]);return m}(o,n,c,1,t,s,r,e,Z,ut,null,it),V())},i(t){if(!n){for(let t=0;t<s.length;t+=1)W(o[t]);n=!0}},o(t){for(let t=0;t<o.length;t+=1)X(o[t]);n=!1},d(t){t&&y(e);for(let t=0;t<o.length;t+=1)o[t].d()}}}function at(t,e,n){let{ids:o,tiles:r,send:s,receive:c}=e,l={2:"#eee4da",4:"#eee1c9",8:"#f3b27a",16:"#f69664",32:"#f77c5f",64:"#f75f3b",128:"#edd073",256:"#edcc62",512:"#edc950",1024:"#edc53f",2048:"#edc22e"};return t.$$set=t=>{"ids"in t&&n(0,o=t.ids),"tiles"in t&&n(1,r=t.tiles),"send"in t&&n(2,s=t.send),"receive"in t&&n(3,c=t.receive)},[o,r,s,c,t=>{const e=r[t];return`background-color: ${l[e]}; color: ${e>4?"#ffffff":"#776e65"}`}]}class dt extends rt{constructor(t){super(),ot(this,t,at,ft,l,{ids:0,tiles:1,send:2,receive:3})}}function ht(t,e,n){const o=t.slice();return o[4]=e[n],o}function pt(t,e,n){const o=t.slice();return o[7]=e[n],o}function gt(t){let e,n;return e=new dt({props:{ids:t[7],tiles:t[1],receive:t[3],send:t[2]}}),{c(){tt(e.$$.fragment)},m(t,o){et(e,t,o),n=!0},p(t,n){const o={};1&n&&(o.ids=t[7]),2&n&&(o.tiles=t[1]),8&n&&(o.receive=t[3]),4&n&&(o.send=t[2]),e.$set(o)},i(t){n||(W(e.$$.fragment,t),n=!0)},o(t){X(e.$$.fragment,t),n=!1},d(t){nt(e,t)}}}function mt(t){let e,n,o,r=t[4],s=[];for(let e=0;e<r.length;e+=1)s[e]=gt(pt(t,r,e));const c=t=>X(s[t],1,1,(()=>{s[t]=null}));return{c(){e=b("div");for(let t=0;t<s.length;t+=1)s[t].c();n=k(),w(e,"class","row svelte-1hupnjo")},m(t,r){$(t,e,r);for(let t=0;t<s.length;t+=1)s[t].m(e,null);p(e,n),o=!0},p(t,o){if(15&o){let l;for(r=t[4],l=0;l<r.length;l+=1){const c=pt(t,r,l);s[l]?(s[l].p(c,o),W(s[l],1)):(s[l]=gt(c),s[l].c(),W(s[l],1),s[l].m(e,n))}for(U(),l=r.length;l<s.length;l+=1)c(l);V()}},i(t){if(!o){for(let t=0;t<r.length;t+=1)W(s[t]);o=!0}},o(t){s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)X(s[t]);o=!1},d(t){t&&y(e),v(s,t)}}}function $t(t){let e,n,o=t[0],r=[];for(let e=0;e<o.length;e+=1)r[e]=mt(ht(t,o,e));const s=t=>X(r[t],1,1,(()=>{r[t]=null}));return{c(){e=b("div");for(let t=0;t<r.length;t+=1)r[t].c();w(e,"class","board svelte-1hupnjo")},m(t,o){$(t,e,o);for(let t=0;t<r.length;t+=1)r[t].m(e,null);n=!0},p(t,[n]){if(15&n){let c;for(o=t[0],c=0;c<o.length;c+=1){const s=ht(t,o,c);r[c]?(r[c].p(s,n),W(r[c],1)):(r[c]=mt(s),r[c].c(),W(r[c],1),r[c].m(e,null))}for(U(),c=o.length;c<r.length;c+=1)s(c);V()}},i(t){if(!n){for(let t=0;t<o.length;t+=1)W(r[t]);n=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)X(r[t]);n=!1},d(t){t&&y(e),v(r,t)}}}function yt(t,e,n){let{board:o,tiles:r,send:s,receive:c}=e;return t.$$set=t=>{"board"in t&&n(0,o=t.board),"tiles"in t&&n(1,r=t.tiles),"send"in t&&n(2,s=t.send),"receive"in t&&n(3,c=t.receive)},[o,r,s,c]}class vt extends rt{constructor(t){super(),ot(this,t,yt,$t,l,{board:0,tiles:1,send:2,receive:3})}}const bt={37:[0,0,0,1,1,-4],38:[0,0,1,0,-4,1],39:[0,3,0,-1,1,4],40:[3,0,-1,0,4,1]},_t=t=>{const e=[];for(let n=0;n<4;++n)for(let o=0;o<4;++o)t[n][o].length||e.push([n,o]);const n=e[Math.floor(Math.random()*e.length)],o=Math.random()>.1?2:4;return[n[0],n[1],o]};function kt(t){let e,n,o,r,s,c,l,i,u,f,a,d,h,g;return r=new vt({props:{board:t[0],tiles:t[1],receive:t[4],send:t[3]}}),{c(){e=b("div"),n=b("header"),n.innerHTML='<h1 class="svelte-oeyez3">2048</h1> \n\t\t<p class="tag-line svelte-oeyez3">The lesser the tiles the more the survival</p>',o=k(),tt(r.$$.fragment),s=k(),c=b("div"),l=b("h3"),i=_("Score: "),u=_(t[2]),f=k(),a=b("button"),a.textContent="Reset",w(n,"class","app-header svelte-oeyez3"),w(l,"class","score-txt svelte-oeyez3"),w(a,"class","reset-btn svelte-oeyez3"),w(c,"class","score-reset svelte-oeyez3"),w(e,"class","App svelte-oeyez3")},m(m,y){var v,b,_,k;$(m,e,y),p(e,n),p(e,o),et(r,e,null),p(e,s),p(e,c),p(c,l),p(l,i),p(l,u),p(c,f),p(c,a),d=!0,h||(v=a,b="click",_=t[5],v.addEventListener(b,_,k),g=()=>v.removeEventListener(b,_,k),h=!0)},p(t,[e]){const n={};1&e&&(n.board=t[0]),2&e&&(n.tiles=t[1]),r.$set(n),(!d||4&e)&&x(u,t[2])},i(t){d||(W(r.$$.fragment,t),d=!0)},o(t){X(r.$$.fragment,t),d=!1},d(t){t&&y(e),nt(r),h=!1,g()}}}function wt(t,e,n){let o,r,s,c;f(),document.addEventListener("keyup",(async function(t){const e=t.keyCode;if(!((t,e,n)=>{const o=bt[n];let r=o[0],s=o[1];for(let n=0;n<4;++n){let n=[];for(let c=0;c<4;++c)n.push(t[r][s].length?e[t[r][s][0]]:0),r+=o[2],s+=o[3];for(let t=1;t<4;++t)if(0!==n[t]&&(0===n[t-1]||n[t-1]===n[t]))return!0;r+=o[4],s+=o[5]}return!1})(o,r,e))return;n(0,o=((t,e,n)=>{const o=bt[n];let r=o[0],s=o[1];for(let n=0;n<4;++n){let n=[[],[],[],[]],c=0;for(let l=0;l<4;++l)t[r][s].length&&(n[c].length?e[n[c][0]]===e[t[r][s][0]]?n[c++].push(t[r][s][0]):n[++c].push(t[r][s][0]):n[c].push(t[r][s][0])),r+=o[2],s+=o[3];for(r-=4*o[2],s-=4*o[3],c=0;c<4;++c)t[r][s]=n[c],r+=o[2],s+=o[3];r+=o[4],s+=o[5]}return t})(o,r,e)),await(N(),q),setTimeout((()=>{const[t,e]=((t,e)=>{const n=[];let o=0;for(let r=0;r<4;++r)for(let s=0;s<4;++s)t[r][s].length>1&&(n.push([r,s,2*e[t[r][s][0]]]),o+=2*e[t[r][s][0]]);return[n,o]})(o,r);for(let e of t)o[e[0]][e[1]].pop(),o[e[0]][e[1]].pop(),u(...e);u(..._t(o)),n(2,c+=e)}),200)}));const[l,i]=lt({duration:t=>Math.sqrt(200*t),fallback(t,e){const n=getComputedStyle(t),o="none"===n.transform?"":n.transform;return{duration:100,easing:ct,css:t=>`\n\t\t\t\t\ttransform: ${o} scale(${t});\n\t\t\t\t\topacity: ${t}\n\t\t\t\t`}}});function u(t,e,c){o[t][e].push(s),n(1,r[s++]=c,r)}function f(){n(0,o=(()=>{const t=[];for(let e=0;e<4;++e){const e=[];for(let t=0;t<4;++t)e.push([]);t.push(e)}return t})()),n(1,r={}),s=0,n(2,c=0),u(..._t(o)),u(..._t(o))}return[o,r,c,l,i,f]}return new class extends rt{constructor(t){super(),ot(this,t,wt,kt,l,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
